document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".carousel");e.forEach(function(e){const t=e.querySelector("ul"),a=Math.round(t.offsetWidth/t.querySelector("li:nth-child(1)").offsetWidth),i=e.querySelectorAll("ol li"),r=e.querySelectorAll("ul li"),s=e.querySelector(".next"),o=e.querySelector(".prev");if(s.style.display="block",o.style.display="block",t.scrollLeft=0,i[0].classList.add("selected"),r[0].classList.add("selected"),a>1){var c=e.querySelectorAll("ol li:nth-last-child(-n + "+(a-1)+")");c.forEach(function(e){e.remove()})}const l=function(){i.forEach(function(e){e.classList.remove("selected")}),r.forEach(function(e){e.classList.remove("selected")});const s=e.querySelector("ul li:nth-child(2)").offsetLeft-e.querySelector("ul li:nth-child(1)").offsetLeft,n=Math.round(t.scrollLeft/s+1);if(e.querySelector("ol li:nth-child("+n+")").classList.add("selected"),e.querySelector("ul li:nth-child("+n+")").classList.add("selected"),e.parentElement.parentElement.querySelector(".dynamictitle")){const t=e.querySelector("ul li:nth-child("+n+") img").getAttribute("title");t&&(e.parentElement.parentElement.querySelector(".dynamictitle").innerHTML=t)}},d=function(e){e.preventDefault(),t.scrollLeft=t.querySelector(this.getAttribute("href")).offsetLeft},u=function(){e.querySelector("ol li:last-child").classList.contains("selected")?e.querySelector("ol li:first-child a").click():e.querySelector("ol li.selected").nextElementSibling.querySelector("a").click()},h=function(){e.querySelector("ol li:first-child").classList.contains("selected")?e.querySelector("ol li:last-child a").click():e.querySelector("ol li.selected").previousElementSibling.querySelector("a").click()},n=function(){t.classList.add("interacted")};t.addEventListener("scroll",debounce(l)),t.addEventListener("touchstart",n),t.addEventListener("keydown",function(e){e.key=="ArrowLeft"&&t.classList.add("interacted"),e.key=="ArrowRight"&&t.classList.add("interacted")}),s.addEventListener("click",u),s.addEventListener("mousedown",n),s.addEventListener("touchstart",n),o.addEventListener("click",h),o.addEventListener("mousedown",n),o.addEventListener("touchstart",n),i.forEach(function(e){e.querySelector("a").addEventListener("click",d),e.addEventListener("mousedown",n),e.addEventListener("touchstart",n)}),e.getAttribute("duration")&&setInterval(function(){t!=document.querySelector(".carousel:hover ul")&&t.classList.contains("interacted")==!1&&s.click()},e.getAttribute("duration"))})});function debounce(e){let t;return function(){let n=this,s=arguments;t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(function(){e.apply(n,s)})}}